import Callout from 'nextra-theme-docs/callout'

# Getting Started

## Create a Form

Let's take you from zero to published in just a few minutes.

### Step 1. Log in

Visit the [AMPATH form builder](https://openmrs-spa.org/formbuilder/#/login) website. Type `/openmrs` in the **OpenMRS Server URL** field and then enter your login credentials to log in. 
NOTE: /openmrs takes you to the https://openmrs-spa.org/openmrs/spa/ distro. The login credentials for this are: 
u: admin2
p: Admin123

![Login page](/screens/login.png)

### Step 2. Create a new Form

Click the **Create New** button. You will be directed to the Schema Editor UI showing a basic form schema scaffold. Launch the **Schema Builder** by clicking the hamburger menu icon at the top-left of the page to begin constructing your schema.

![Schema editor](/screens/schema-editor.png)

Type in `Test POC Patient Consent Form v1.0` as the name of your form. Click the green tick when done to update the schema.

![Specify the name of the form](/screens/add-form-name.png)

<Callout emoji="ℹ️">
  Presently, your form name must to contain the word **POC** for it to be deemed
  valid. For example, **Test POC form** is a valid form name while **Yet Another
  Test form** is not.
</Callout>

### Step 3. Add a page

Add a page by clicking `Create new page`. This should launch a modal where you can provide a page label. Let's add a page labelled `Consent Elicitation`.

![Add a page to the form](/screens/add-page.png)

### Step 4. Add a section

Add a section by clicking `Create new section`. We'll add a section to the form labelled `Consent`. Sections are rendered in collapsed mode by default. Make sure to set `isExpanded` to `true` so the section gets rendered in expanded mode.

![Add a section to the form](/screens/add-section.png)

### Step 5. Add a question

Add a question by clicking `Create new question`. This launches the **Question Editor** panel.

![Add a question to the form](/screens/add-question.png)

Enter `PATIENT CONSENT PROVIDED` in the Concept field. This should launch the **Concept Search** modal. The Form Builder is linked to a Concept Dictionary. This Concept Search modal allows you to perform a concept search based on either a concept name, concept ID, or concept UUID. In this example, the Concept Dictionary in use is the AMPATH Concept Dictionary. The `PATIENT CONSENT PROVIDED` concept referenced here has the concept ID `7656`. Press **OK** to save. 

A modal should now appear asking you to pick your desired Answers from a list of available Answers. Click **Select All** to choose both `YES` and `NO`.

![Concept search modal](/screens/concept-modal.png)

Click **OK** to save. You should now see the associated Concept Mappings and the Answers you chose displayed in the Question Editor.

![Question editor showing concept mappings and answers](/screens/concept-mappings-and-answers.png)

Click **OK** to save your form schema at this point. You should see an alert showing that the schema was updated successfully.

Your final schema in the Schema Editor should now look like this:

```json
{
  "name": "Test POC Patient Consent Form v1.0",
  "processor": "EncounterFormProcessor",
  "uuid": "xxxx",
  "referencedForms": [],
  "pages": [
    {
      "label": "Consent Elicitation",
      "sections": [
        {
          "label": "Consent",
          "isExpanded": "true",
          "questions": [
            {
              "label": "Do you consent to having your information recorded?",
              "type": "obs",
              "questionOptions": {
                "rendering": "select",
                "concept": "9d9ccb6b-73ae-48dd-83f9-12c782ce6685",
                "conceptMappings": [
                  {
                    "type": "MCL/CIEL",
                    "value": "1710"
                  }
                ],
                "answers": [
                  {
                    "concept": "a899b35c-1350-11df-a1f1-0026b9348838",
                    "label": "YES",
                    "conceptMappings": [
                      {
                        "type": "local",
                        "value": "1065"
                      },
                      {
                        "type": "MCL/CIEL",
                        "value": "1065"
                      }
                    ]
                  },
                  {
                    "concept": "a899b42e-1350-11df-a1f1-0026b9348838",
                    "label": "NO",
                    "conceptMappings": [
                      {
                        "type": "MCL/CIEL",
                        "value": "1066"
                      },
                      {
                        "type": "local",
                        "value": "1066"
                      }
                    ]
                  }
                ]
              },
              "id": "consentStatus"
            }
          ]
        }
      ]
    }
  ]
}
```

### Step 6. Test your Form

You can test your form at any point in the development process by clicking the **Render** button. Provided you have a valid form schema defined, this will allow you to interact with a visual representation of your form schema without having to first publish the form.

The schema you've created gets rendered as:

![Schema render](/screens/schema-render.png)

### Step 7: Save your Form

When you're done working on your form, you can save the form by going to **File** and then clicking **Save to Server**. Doing so launches a modal asking you to enter details related to your form.

![Save modal](/screens/save-modal.png)

Press **OK** to save your form, and then **Exit** to leave the Schema Editor.

You should now be able to see your new form in the Forms List.
